# EffectiveJava笔记

## 第一章  引言

几个重要原则

* 清晰性和简洁性最为重要

* 组件(Component) 指任何可重用的软件元素，组件要尽可能小

* 组件之间的依赖性应尽可能降到最小

* 错误应该尽早被检测出来

  http://joshbloch.com/effectivejava.提供完整示例

  

java语言支持四种类型：

* 接口（包括注释）

* 类（包括enum）

* 数组

* 基本类型

  类、接口、构造器、成员以及序列化形式被统称为API元素

  

## 第二章  创建和销毁对象

### 1. 用静态工厂方法代替构造器

### 2. 遇到多个构造器参数时要考虑使用构建器

### 3. 用私有构造器或者枚举类型强化Singleton属性

### 4. 通过私有构造器强化不可实例的能力

### 5. 优先考虑依赖注入来引用资源

### 6. 避免创建不必要的对象

### 7. 消除过期的对象引用

### 8. 避免使用终结方法( finalizer )和清除方法( cleaner )

### 9. try-with-resources 优先于 try-finally

## 第三章 对于所有对象都通用的方法

### 10. 覆盖equals时请遵守通用约定

### 11. 覆盖equals时总要覆盖hashCode

### 12. 始终要覆盖toString

### 13. 谨慎地覆盖clone

### 14. 考虑实现Comparable接口

## 第四章 类和接口

### 15. 使类和成员的可访问性最小化

封装 [信息隐藏]：把API和实现清晰的隔离开，组件之间只通过API通信。
好处：解耦，模块独立开发、测试、优化、使用、理解、修改。并发开发。组件单独优化。降低构建大型系统的风险。

成员（域、方法、嵌套类、嵌套接口）有四种可能的访问级别：

1. 私有的
2. 包级私有
3. 受保护的
4. 共有的

Java9 新增2种隐式访问级别：

1. 模块系统

类实现接口，类中实现接口的方法都必须声明为共有。

共有类的可变实例成员变量不能是共有的。

### 16. 要在共有类而非共有域中使用访问方法

### 17. 使可变性最小化

Java平台类库中包含许多不可变的类(其实例不能被修改的类)：

String、基本类型的包装类、BigInter、BigDecimal

不可变类好处：易于设计、实现、使用。安全

不可变对象可以只有一种状态，即被创建时的状态。

不可变对象本质上是线程安全的，它们不需要同步。，

不可变对象可以被自由地共享。永远不需要进行保护性拷贝。

不可变类的使用：

1. 对于频繁用到的值，提供共有静态final常量
2. 提供一些静态工厂。

不可变对象唯一的缺点是，对于每个不同的值都需要一个单独的对象。









### 

### 